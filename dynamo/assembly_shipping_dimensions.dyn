{
  "Uuid": "552de6c7-e44d-442b-bd56-3d6805c7554a",
  "IsCustomNode": false,
  "Description": "",
  "Name": "Creación de vistas de montaje+colocación en plano",
  "ElementResolver": {
    "ResolutionMap": {}
  },
  "Inputs": [],
  "Outputs": [],
  "Nodes": [
    {
      "ConcreteType": "PythonNodeModels.PythonNode, PythonNodeModels",
      "Code": "import clr\r\nimport System\r\nimport math\r\n\r\n# IMPORTS\r\ntry:\r\n    clr.AddReference('RevitAPI')\r\n    clr.AddReference('RevitServices')\r\n    from Autodesk.Revit.DB import *\r\n    from Autodesk.Revit.DB import BuiltInParameter  # Importar explícitamente\r\n    from RevitServices.Persistence import DocumentManager\r\n    from RevitServices.Transactions import TransactionManager\r\n    doc = DocumentManager.Instance.CurrentDBDocument\r\nexcept: pass\r\n\r\n# ENTRADAS\r\ntry:\r\n    assemblies = UnwrapElement(IN[0])      \r\n    titleblock_type = UnwrapElement(IN[1])\r\nexcept:\r\n    assemblies = []\r\n    titleblock_type = None\r\n\r\n# CONFIGURACIÓN\r\nt_name_3d = \"10-Detalle 3D Montaje\"\r\nt_name_top = \"2-PLANTA CUBIERTA\" \r\nt_name_front = \"3-Proyeccion MONTAJE\" \r\nt_name_sched_col = \"1-Planilla Pilares Montaje (no +House)\"\r\nt_name_sched_fram = \"1-Planilla Vigas Montaje (no +House)\"\r\n\r\n# COORDENADAS A3\r\nm_to_f = 3.28084 \r\nlayout = {\r\n    \"sched_fram\": XYZ(0.320 * m_to_f, 0.285 * m_to_f, 0), \r\n    \"sched_col\":  XYZ(0.320 * m_to_f, 0.215 * m_to_f, 0), \r\n    \"3d\":         XYZ(0.335 * m_to_f, 0.135 * m_to_f, 0), \r\n    \"front\":      XYZ(0.140 * m_to_f, 0.230 * m_to_f, 0), \r\n    \"top\":        XYZ(0.140 * m_to_f, 0.035 * m_to_f, 0)  \r\n}\r\n\r\n# FUNCIONES AUXILIARES\r\ndef get_id_value(element_id):\r\n    try:\r\n        if hasattr(element_id, \"Value\"): return element_id.Value\r\n        if hasattr(element_id, \"IntegerValue\"): return element_id.IntegerValue\r\n    except: pass\r\n    return -1\r\n\r\ndef get_orientation_by_members(assembly_instance, doc):\r\n    try:\r\n        member_ids = assembly_instance.GetMemberIds()\r\n        max_span_x = 0.0\r\n        max_span_y = 0.0\r\n        members_found = 0\r\n        \r\n        for mid in member_ids:\r\n            elem = doc.GetElement(mid)\r\n            if not elem: continue\r\n            \r\n            cat_id = get_id_value(elem.Category.Id)\r\n            if cat_id == -2001320 or cat_id == -2001330:\r\n                bbox = elem.get_BoundingBox(None)\r\n                if bbox:\r\n                    len_x = abs(bbox.Max.X - bbox.Min.X)\r\n                    len_y = abs(bbox.Max.Y - bbox.Min.Y)\r\n                    if len_x > max_span_x: max_span_x = len_x\r\n                    if len_y > max_span_y: max_span_y = len_y\r\n                    members_found += 1\r\n        \r\n        debug = f\"(X:{round(max_span_x,1)}, Y:{round(max_span_y,1)})\"\r\n        if members_found == 0: return AssemblyDetailViewOrientation.ElevationFront, \"Front\", debug\r\n\r\n        if max_span_y > max_span_x:\r\n            return AssemblyDetailViewOrientation.ElevationLeft, \"Left\", debug\r\n        else:\r\n            return AssemblyDetailViewOrientation.ElevationFront, \"Front\", debug\r\n    except Exception as e:\r\n        return AssemblyDetailViewOrientation.ElevationFront, \"Front (Err)\", str(e)\r\n\r\n# ROTACIÓN INMEDIATA POST-CREACIÓN\r\ndef apply_rotation_immediately(doc, view, angle_degrees):\r\n    \"\"\"\r\n    Intenta rotar la vista inmediatamente después de crearla,\r\n    antes de regenerar o aplicar templates.\r\n    Prueba múltiples métodos en secuencia.\r\n    \"\"\"\r\n    try:\r\n        angle_rad = math.radians(angle_degrees)\r\n        \r\n        # MÉTODO 1: Modificar Origin Rotation (para planos de trabajo)\r\n        try:\r\n            if hasattr(view, 'OriginRotation'):\r\n                view.OriginRotation = angle_rad\r\n                return \"OriginRot\"\r\n        except: pass\r\n        \r\n        # MÉTODO 2: Rotar elementos dentro de la vista usando el centro del crop\r\n        try:\r\n            view.CropBoxActive = True\r\n            bbox = view.CropBox\r\n            center = (bbox.Min + bbox.Max) / 2.0\r\n            axis = Line.CreateBound(center, center + XYZ(0, 0, 1))\r\n            \r\n            # Obtener todos los elementos visibles en la vista\r\n            collector = FilteredElementCollector(doc, view.Id).WhereElementIsNotElementType()\r\n            elem_ids = [e.Id for e in collector]\r\n            \r\n            if elem_ids:\r\n                ElementTransformUtils.RotateElements(doc, System.Collections.Generic.List[ElementId](elem_ids), axis, angle_rad)\r\n                return \"ElemRot\"\r\n        except: pass\r\n        \r\n        # MÉTODO 3: Modificar el Sketch Plane si existe\r\n        try:\r\n            if hasattr(view, 'SketchPlane') and view.SketchPlane:\r\n                sketch_plane = view.SketchPlane\r\n                plane = sketch_plane.GetPlane()\r\n                \r\n                # Crear nuevo plano rotado\r\n                new_normal = plane.Normal\r\n                new_origin = plane.Origin\r\n                \r\n                # Rotar los vectores del plano\r\n                cos_a = math.cos(angle_rad)\r\n                sin_a = math.sin(angle_rad)\r\n                \r\n                x_axis = plane.XVec\r\n                y_axis = plane.YVec\r\n                \r\n                new_x = XYZ(\r\n                    x_axis.X * cos_a - y_axis.X * sin_a,\r\n                    x_axis.Y * cos_a - y_axis.Y * sin_a,\r\n                    x_axis.Z * cos_a - y_axis.Z * sin_a\r\n                )\r\n                \r\n                new_plane = Plane.CreateByOriginAndBasis(new_origin, new_x, new_normal)\r\n                new_sketch = SketchPlane.Create(doc, new_plane)\r\n                view.SketchPlane = new_sketch\r\n                return \"SketchPlane\"\r\n        except: pass\r\n        \r\n        return None\r\n        \r\n    except Exception as e:\r\n        return f\"Error:{str(e)[:20]}\"\r\n\r\ndef find_best_viewport_style(doc):\r\n    \"\"\"\r\n    Busca el estilo de viewport sin título.\r\n    Prioridad: 1) Por nombre, 2) Por parámetro Show Title, 3) Crear uno nuevo\r\n    \"\"\"\r\n    try:\r\n        collector = FilteredElementCollector(doc).OfClass(ElementType).OfCategory(BuiltInCategory.OST_Viewports)\r\n        all_types = list(collector)\r\n        if not all_types: return ElementId.InvalidElementId, \"Ninguno\"\r\n        \r\n        # PRIORIDAD 1: Buscar por nombre\r\n        keywords = [\"sin título\", \"sin titulo\", \"no title\", \"sin línea\", \"sin linea\", \"no line\", \"untitled\", \"without title\"]\r\n        \r\n        for t in all_types:\r\n            name_lower = t.Name.lower()\r\n            if any(k in name_lower for k in keywords):\r\n                return t.Id, t.Name\r\n        \r\n        # PRIORIDAD 2: Buscar por parámetro Show Title = False\r\n        for t in all_types:\r\n            try:\r\n                show_title_param = t.get_Parameter(BuiltInParameter.VIEWPORT_ATTR_SHOW_TITLE_VIEWPORT)\r\n                if show_title_param and show_title_param.AsInteger() == 0:\r\n                    return t.Id, t.Name\r\n            except: pass\r\n        \r\n        # PRIORIDAD 3: Tomar el primero y modificarlo\r\n        return all_types[0].Id, all_types[0].Name\r\n    except: \r\n        return ElementId.InvalidElementId, \"Error\"\r\n\r\ndef force_viewport_no_title(viewport, doc):\r\n    \"\"\"\r\n    Fuerza que un viewport no muestre título.\r\n    Usa el valor numérico directo del BuiltInParameter.\r\n    \"\"\"\r\n    methods_tried = []\r\n    \r\n    try:\r\n        # Método 1: Usar el valor numérico directo de VIEWPORT_ATTR_SHOW_TITLE_VIEWPORT\r\n        # El valor es -1002053 para Show Title\r\n        try:\r\n            param = viewport.get_Parameter(ElementId(-1002053))\r\n            if param and not param.IsReadOnly:\r\n                param.Set(0)\r\n                return \"NumericBuiltIn\"\r\n        except Exception as e:\r\n            methods_tried.append(f\"Numeric_Fail:{str(e)[:15]}\")\r\n        \r\n        # Método 2: Buscar en todos los parámetros del tipo de viewport\r\n        try:\r\n            vp_type = doc.GetElement(viewport.GetTypeId())\r\n            if vp_type:\r\n                param = vp_type.get_Parameter(ElementId(-1002053))\r\n                if param and not param.IsReadOnly:\r\n                    param.Set(0)\r\n                    return \"TypeNumeric\"\r\n        except Exception as e:\r\n            methods_tried.append(f\"TypeNumeric_Fail:{str(e)[:15]}\")\r\n        \r\n        # Método 3: Parámetro por nombre en inglés\r\n        try:\r\n            param = viewport.LookupParameter(\"Show Title\")\r\n            if param and not param.IsReadOnly:\r\n                param.Set(0)\r\n                return \"ShowTitle\"\r\n        except Exception as e:\r\n            methods_tried.append(f\"ShowTitle_Fail:{str(e)[:15]}\")\r\n        \r\n        # Método 4: Parámetro en el tipo por nombre\r\n        try:\r\n            vp_type = doc.GetElement(viewport.GetTypeId())\r\n            if vp_type:\r\n                param = vp_type.LookupParameter(\"Show Title\")\r\n                if param and not param.IsReadOnly:\r\n                    param.Set(0)\r\n                    return \"TypeShowTitle\"\r\n        except Exception as e:\r\n            methods_tried.append(f\"TypeShowTitle_Fail:{str(e)[:15]}\")\r\n        \r\n        # Método 5: Buscar parámetro con \"title\" en cualquier parte\r\n        try:\r\n            vp_type = doc.GetElement(viewport.GetTypeId())\r\n            if vp_type:\r\n                for param in vp_type.Parameters:\r\n                    param_name = param.Definition.Name.lower()\r\n                    if \"title\" in param_name or \"título\" in param_name:\r\n                        if not param.IsReadOnly and param.StorageType == StorageType.Integer:\r\n                            param.Set(0)\r\n                            return f\"FoundInType:{param.Definition.Name}\"\r\n        except Exception as e:\r\n            methods_tried.append(f\"SearchType_Fail:{str(e)[:15]}\")\r\n        \r\n        return f\"FAILED:[{','.join(methods_tried)}]\"\r\n        \r\n    except Exception as e:\r\n        return f\"ERROR:{str(e)[:30]}\"\r\n\r\ndef get_template_id(doc, name):\r\n    try:\r\n        collector = FilteredElementCollector(doc).OfClass(View)\r\n        for v in collector:\r\n            if v.IsTemplate and v.Name == name: return v.Id\r\n    except: pass\r\n    return ElementId.InvalidElementId\r\n\r\n# EJECUCIÓN\r\nfull_log = []\r\nresults = []\r\n\r\ntry:\r\n    id_vp_style, style_name = find_best_viewport_style(doc)\r\n    full_log.append(f\"Estilo Título: {style_name}\")\r\n\r\n    id_3d = get_template_id(doc, t_name_3d)\r\n    id_top = get_template_id(doc, t_name_top)\r\n    id_front = get_template_id(doc, t_name_front)\r\n    id_sch_col = get_template_id(doc, t_name_sched_col)\r\n    id_sch_fram = get_template_id(doc, t_name_sched_fram)\r\n\r\n    TransactionManager.Instance.EnsureInTransaction(doc)\r\n\r\n    for asm in assemblies:\r\n        log = [] \r\n        try:\r\n            asm_id = asm.Id\r\n            \r\n            # 1. HOJA\r\n            sheet = None\r\n            try:\r\n                sheet = AssemblyViewUtils.CreateSheet(doc, asm_id, titleblock_type.Id)\r\n            except:\r\n                sheet = ViewSheet.Create(doc, titleblock_type.Id)\r\n                sheet.Name = asm.AssemblyTypeName\r\n\r\n            # 2. ESCANEAR Y DECIDIR SI ROTAR\r\n            view_orient, view_suffix, debug_vals = get_orientation_by_members(asm, doc)\r\n            \r\n            # NOTA: Para PCU no rotamos nada (ni planta ni alzado)\r\n            # Para el resto, si es Left, la planta debería rotarse manualmente\r\n            is_pcu = asm.AssemblyTypeName.startswith(\"PCU\")\r\n            \r\n            if is_pcu:\r\n                log_msg = f\"{asm.AssemblyTypeName}: {view_suffix} {debug_vals} [PCU-SIN ROTAR]\"\r\n            else:\r\n                log_msg = f\"{asm.AssemblyTypeName}: {view_suffix} {debug_vals}\"\r\n\r\n            # 3. 3D\r\n            view_3d = None\r\n            try:\r\n                view_3d = AssemblyViewUtils.Create3DOrthographic(doc, asm_id)\r\n                if id_3d != ElementId.InvalidElementId: view_3d.ViewTemplateId = id_3d\r\n                try: view_3d.Name = f\"{asm.AssemblyTypeName} - 3D Final\"\r\n                except: pass\r\n            except: pass\r\n\r\n            # 4. 2D (CREAR VISTAS DE MONTAJE)\r\n            # Para PCU: usar siempre orientación por defecto (no Left)\r\n            # Para otros: usar la orientación detectada\r\n            created_views_2d = []\r\n            \r\n            # PLANTA (Top) - siempre igual\r\n            try:\r\n                res = AssemblyViewUtils.CreateDetailSection(doc, asm_id, AssemblyDetailViewOrientation.ElevationTop)\r\n                v_top = doc.GetElement(res) if isinstance(res, ElementId) else res\r\n                \r\n                if id_top != ElementId.InvalidElementId: \r\n                    v_top.ViewTemplateId = id_top\r\n                try: \r\n                    v_top.Name = f\"{asm.AssemblyTypeName} - Top\"\r\n                except: pass\r\n                created_views_2d.append((v_top, {\"pos\": \"top\", \"scale\": 25}))\r\n            except Exception as e:\r\n                log_msg += f\" [TopErr:{str(e)[:20]}]\"\r\n            \r\n            # ALZADO (Front) - Para PCU usar siempre Front, no Left\r\n            try:\r\n                if is_pcu and view_suffix == \"Left\":\r\n                    # Forzar orientación Front para PCU verticales\r\n                    orientation = AssemblyDetailViewOrientation.ElevationFront\r\n                    log_msg += \" [Forzado:Front]\"\r\n                else:\r\n                    # Usar orientación detectada\r\n                    orientation = view_orient\r\n                \r\n                res = AssemblyViewUtils.CreateDetailSection(doc, asm_id, orientation)\r\n                v_front = doc.GetElement(res) if isinstance(res, ElementId) else res\r\n                if id_front != ElementId.InvalidElementId: \r\n                    v_front.ViewTemplateId = id_front\r\n                try: \r\n                    v_front.Name = f\"{asm.AssemblyTypeName} - View\"\r\n                except: pass\r\n                created_views_2d.append((v_front, {\"pos\": \"front\", \"scale\": 25}))\r\n            except Exception as e:\r\n                log_msg += f\" [FrontErr:{str(e)[:20]}]\"\r\n\r\n            # 5. REGENERAR\r\n            doc.Regenerate()\r\n            \r\n            # 6. COLOCAR EN HOJA Y FORZAR SIN TÍTULO (CON DEBUG)\r\n            title_debug = []\r\n            if sheet:\r\n                # 3D\r\n                if view_3d:\r\n                    try:\r\n                        if Viewport.CanAddViewToSheet(doc, sheet.Id, view_3d.Id):\r\n                            vp = Viewport.Create(doc, sheet.Id, view_3d.Id, layout[\"3d\"])\r\n                            # Cambiar tipo\r\n                            if id_vp_style != ElementId.InvalidElementId: \r\n                                try: \r\n                                    vp.ChangeTypeId(id_vp_style)\r\n                                    doc.Regenerate()\r\n                                except: pass\r\n                            # Forzar sin título\r\n                            result = force_viewport_no_title(vp, doc)\r\n                            title_debug.append(f\"3D:{result}\")\r\n                            try: view_3d.Scale = 50 \r\n                            except: pass\r\n                    except: pass\r\n\r\n                # 2D\r\n                for v_obj, cfg in created_views_2d:\r\n                    try:\r\n                        if Viewport.CanAddViewToSheet(doc, sheet.Id, v_obj.Id):\r\n                            vp = Viewport.Create(doc, sheet.Id, v_obj.Id, layout[cfg[\"pos\"]])\r\n                            # Cambiar tipo\r\n                            if id_vp_style != ElementId.InvalidElementId: \r\n                                try: \r\n                                    vp.ChangeTypeId(id_vp_style)\r\n                                    doc.Regenerate()\r\n                                except: pass\r\n                            # Forzar sin título\r\n                            result = force_viewport_no_title(vp, doc)\r\n                            title_debug.append(f\"{cfg['pos']}:{result}\")\r\n                            try: v_obj.Scale = cfg[\"scale\"]\r\n                            except: pass\r\n                    except: pass\r\n            \r\n            # Agregar info de título al log\r\n            if title_debug:\r\n                log_msg += f\" [Títulos: {', '.join(title_debug)}]\"\r\n\r\n            # 7. TABLAS\r\n            if id_sch_fram != ElementId.InvalidElementId:\r\n                try:\r\n                    fram_cat = ElementId(BuiltInCategory.OST_StructuralFraming)\r\n                    res = AssemblyViewUtils.CreateSingleCategorySchedule(doc, asm_id, fram_cat, id_sch_fram, True)\r\n                    sid = res.Id if isinstance(res, Element) else res\r\n                    doc.Regenerate()\r\n                    ScheduleSheetInstance.Create(doc, sheet.Id, sid, layout[\"sched_fram\"])\r\n                except: pass\r\n\r\n            if id_sch_col != ElementId.InvalidElementId:\r\n                try:\r\n                    col_cat = ElementId(BuiltInCategory.OST_StructuralColumns)\r\n                    res = AssemblyViewUtils.CreateSingleCategorySchedule(doc, asm_id, col_cat, id_sch_col, True)\r\n                    sid = res.Id if isinstance(res, Element) else res\r\n                    doc.Regenerate()\r\n                    ScheduleSheetInstance.Create(doc, sheet.Id, sid, layout[\"sched_col\"])\r\n                except: pass\r\n            \r\n            log_msg += \" -> OK\"\r\n            log.append(log_msg)\r\n\r\n        except Exception as e:\r\n            log.append(f\"{asm.AssemblyTypeName}: ERROR {e}\")\r\n\r\n        results.append(\"\\n\".join(log))\r\n\r\n    TransactionManager.Instance.TransactionTaskDone()\r\n\r\nexcept Exception as e:\r\n    full_log.append(f\"ERROR CRÍTICO: {e}\")\r\n\r\nOUT = \"\\n\".join(full_log) + \"\\n\" + \"\\n\".join(results)",
      "Engine": "CPython3",
      "VariableInputPorts": true,
      "Id": "1ca0d39630804864a101badbf9b971bf",
      "NodeType": "PythonScriptNode",
      "Inputs": [
        {
          "Id": "a75b4107725a4611bd2e1efa5ef3024e",
          "Name": "IN[0]",
          "Description": "Input #0",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        },
        {
          "Id": "8078a71644ad4c218016910a231bbdf9",
          "Name": "IN[1]",
          "Description": "Input #1",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Outputs": [
        {
          "Id": "7ac64f49fcbb4839bd99f5132493c23a",
          "Name": "OUT",
          "Description": "Resultado de la secuencia de comandos de Python",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Replication": "Disabled",
      "Description": "Ejecuta una secuencia de comandos de Python incrustada."
    },
    {
      "ConcreteType": "DSRevitNodesUI.FamilyTypes, DSRevitNodesUI",
      "SelectedIndex": 339,
      "SelectedString": "ROTULO A3:A3 ROTULO",
      "Id": "be225ea5d178401c8e27113f4b43f5c9",
      "NodeType": "ExtensionNode",
      "Inputs": [],
      "Outputs": [
        {
          "Id": "631791fa57d744549e118cda2dc15fc6",
          "Name": "Family Type",
          "Description": "Family Type seleccionado",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Replication": "Disabled",
      "Description": "Todos los tipos de familia disponibles en el documento"
    },
    {
      "ConcreteType": "Dynamo.ComboNodes.DSModelElementsByCategorySelection, DSRevitNodesUI",
      "SelectedIndex": 497,
      "SelectedString": "OST_Assemblies",
      "NodeType": "ExtensionNode",
      "InstanceId": [
        "21554508-e7a3-4b6a-ab8b-619f515b889c-002f41ba",
        "21554508-e7a3-4b6a-ab8b-619f515b889c-002f4306",
        "21554508-e7a3-4b6a-ab8b-619f515b889c-002f43ab",
        "21554508-e7a3-4b6a-ab8b-619f515b889c-002f43e5",
        "21554508-e7a3-4b6a-ab8b-619f515b889c-002f441a",
        "21554508-e7a3-4b6a-ab8b-619f515b889c-002f4466",
        "21554508-e7a3-4b6a-ab8b-619f515b889c-002f4553",
        "21554508-e7a3-4b6a-ab8b-619f515b889c-002f45c7",
        "21554508-e7a3-4b6a-ab8b-619f515b889c-002f4699",
        "21554508-e7a3-4b6a-ab8b-619f515b889c-002f4b1a",
        "21554508-e7a3-4b6a-ab8b-619f515b889c-002f4cf8",
        "21554508-e7a3-4b6a-ab8b-619f515b889c-002f4d4c",
        "21554508-e7a3-4b6a-ab8b-619f515b889c-002f4dc3",
        "bfcdb66d-7658-4cca-8583-4e37882e769c-002f4ebc",
        "bfcdb66d-7658-4cca-8583-4e37882e769c-002f4f97",
        "bfcdb66d-7658-4cca-8583-4e37882e769c-002f50c2",
        "bfcdb66d-7658-4cca-8583-4e37882e769c-002f51e9",
        "45ac0af9-3780-4b4e-bc1a-cb61ebd5c019-002f53fe",
        "45ac0af9-3780-4b4e-bc1a-cb61ebd5c019-002f548e",
        "45ac0af9-3780-4b4e-bc1a-cb61ebd5c019-002f5527",
        "45ac0af9-3780-4b4e-bc1a-cb61ebd5c019-002f5915",
        "45ac0af9-3780-4b4e-bc1a-cb61ebd5c019-002f5d96",
        "45ac0af9-3780-4b4e-bc1a-cb61ebd5c019-002f5e12",
        "45ac0af9-3780-4b4e-bc1a-cb61ebd5c019-002f5e61",
        "922825c4-c6e2-429a-8011-79c5132a9549-002f5f61",
        "922825c4-c6e2-429a-8011-79c5132a9549-002f5fee",
        "35bfde4a-9917-4f0f-adcb-484d9434dacf-002f6099",
        "35bfde4a-9917-4f0f-adcb-484d9434dacf-002f60df",
        "35bfde4a-9917-4f0f-adcb-484d9434dacf-002f6152",
        "35bfde4a-9917-4f0f-adcb-484d9434dacf-002f6187",
        "35bfde4a-9917-4f0f-adcb-484d9434dacf-002f6243",
        "35bfde4a-9917-4f0f-adcb-484d9434dacf-002f64a6",
        "35bfde4a-9917-4f0f-adcb-484d9434dacf-002f64e7",
        "35bfde4a-9917-4f0f-adcb-484d9434dacf-002f65c0",
        "35bfde4a-9917-4f0f-adcb-484d9434dacf-002f6633",
        "3eafd8ef-b4ec-40a7-8317-061599462bad-002f681e",
        "3eafd8ef-b4ec-40a7-8317-061599462bad-002f691e",
        "3eafd8ef-b4ec-40a7-8317-061599462bad-002f69f7",
        "3eafd8ef-b4ec-40a7-8317-061599462bad-002f6b13",
        "3eafd8ef-b4ec-40a7-8317-061599462bad-002f6b4d",
        "3eafd8ef-b4ec-40a7-8317-061599462bad-002f6b9a",
        "3eafd8ef-b4ec-40a7-8317-061599462bad-002f6bf7",
        "645e1ee2-b633-41c3-936e-00ddfdded1e8-002f6c94",
        "ffa783ae-683e-4c11-b7a6-2847dfa8e406-002f6d29",
        "ffa783ae-683e-4c11-b7a6-2847dfa8e406-002f6d64",
        "1268f6aa-cc85-4e5c-ab76-e0f4f6a1cae1-002fca18",
        "fe625533-feca-4640-a84f-32b0d571d138-002ff456",
        "fe625533-feca-4640-a84f-32b0d571d138-002ffac0",
        "fe625533-feca-4640-a84f-32b0d571d138-002ffada"
      ],
      "Id": "5aeceb640223465b8d8ff8cf2696fd26",
      "Inputs": [],
      "Outputs": [
        {
          "Id": "b6462187fa974a4e988cab9679318a5f",
          "Name": "Elements",
          "Description": "Los elementos seleccionados",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Replication": "Disabled",
      "Description": "Seleccione varios elementos del documento de Revit filtrados por categoría."
    },
    {
      "ConcreteType": "CoreNodeModels.Watch, CoreNodeModels",
      "WatchWidth": 420.0,
      "WatchHeight": 200.0,
      "Id": "df2f83200aa449a28703ac34fc81353c",
      "NodeType": "ExtensionNode",
      "Inputs": [
        {
          "Id": "6251c6f91f7f4418a05af96f647c9097",
          "Name": "",
          "Description": "Nodo desde el que se mostrará la salida",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Outputs": [
        {
          "Id": "3b0761cf801b4e068b35cfa7db3062ff",
          "Name": "",
          "Description": "Salida del nodo",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Replication": "Disabled",
      "Description": "Muestra la salida de un nodo."
    }
  ],
  "Connectors": [
    {
      "Start": "7ac64f49fcbb4839bd99f5132493c23a",
      "End": "6251c6f91f7f4418a05af96f647c9097",
      "Id": "5a2f29395524472eaca7e1a627568d46",
      "IsHidden": "False"
    },
    {
      "Start": "631791fa57d744549e118cda2dc15fc6",
      "End": "8078a71644ad4c218016910a231bbdf9",
      "Id": "34c0591ce2da4472a71e64d772a6d340",
      "IsHidden": "False"
    },
    {
      "Start": "b6462187fa974a4e988cab9679318a5f",
      "End": "a75b4107725a4611bd2e1efa5ef3024e",
      "Id": "7a312c715de743b9994775b99ed1373c",
      "IsHidden": "False"
    }
  ],
  "Dependencies": [],
  "NodeLibraryDependencies": [],
  "EnableLegacyPolyCurveBehavior": true,
  "Thumbnail": "",
  "GraphDocumentationURL": null,
  "ExtensionWorkspaceData": [
    {
      "ExtensionGuid": "28992e1d-abb9-417f-8b1b-05e053bee670",
      "Name": "Propiedades",
      "Version": "3.6",
      "Data": {}
    },
    {
      "ExtensionGuid": "DFBD9CC0-DB40-457A-939E-8C8555555A9D",
      "Name": "Generative Design",
      "Version": "9.1",
      "Data": {}
    }
  ],
  "Author": "",
  "Linting": {
    "activeLinter": "Ninguno",
    "activeLinterId": "7b75fb44-43fd-4631-a878-29f4d5d8399a",
    "warningCount": 0,
    "errorCount": 0
  },
  "Bindings": [],
  "View": {
    "Dynamo": {
      "ScaleFactor": 1.0,
      "HasRunWithoutCrash": true,
      "IsVisibleInDynamoLibrary": true,
      "Version": "3.6.0.9395",
      "RunType": "Manual",
      "RunPeriod": "1000"
    },
    "Camera": {
      "Name": "_Vista preliminar en segundo plano",
      "EyeX": -17.0,
      "EyeY": 24.0,
      "EyeZ": 50.0,
      "LookX": 12.0,
      "LookY": -13.0,
      "LookZ": -58.0,
      "UpX": 0.0,
      "UpY": 1.0,
      "UpZ": 0.0
    },
    "ConnectorPins": [],
    "NodeViews": [
      {
        "Id": "1ca0d39630804864a101badbf9b971bf",
        "Name": "Python Script",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Excluded": false,
        "ShowGeometry": true,
        "X": 616.8213386922814,
        "Y": 407.8137686875183
      },
      {
        "Id": "be225ea5d178401c8e27113f4b43f5c9",
        "Name": "Family Types",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Excluded": false,
        "ShowGeometry": true,
        "X": 76.74449924515943,
        "Y": 422.5530854846057
      },
      {
        "Id": "5aeceb640223465b8d8ff8cf2696fd26",
        "Name": "Select Model Elements By Category",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Excluded": false,
        "ShowGeometry": true,
        "X": 38.8612817912346,
        "Y": 144.6958200590699
      },
      {
        "Id": "df2f83200aa449a28703ac34fc81353c",
        "Name": "Watch",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Excluded": false,
        "ShowGeometry": true,
        "X": 893.0463762080254,
        "Y": 326.1416491171832
      }
    ],
    "Annotations": [],
    "X": 65.49462842708044,
    "Y": 142.42612196897718,
    "Zoom": 0.779970979395824
  }
}